{{template "base" . }}
{{define "content"}}
    <div class="container">
        <div class="row">
            <div class="col-4"></div>
            <div class="col">
                <img src="/statics/images/wsw.jpg" class="img-fluid" alt="">
            </div>
        </div>
    </div>
    <div class="container">

        <p>
            Generals
        </p>
    </div>
    <div class="row">
        <div class="col text-center">
            <button id="search-btn" class="btn btn-success">Search</button>

        </div>
    </div>
    </div>
{{end}}

{{define "js"}}

    const btn=document.querySelector("#search-btn");
    btn.addEventListener("click",()=>{
    const msg=`
    <form action="" method="get" id="date-picker">

        <div class="form-row">

            <div class="col">
                <input type="text" name="start" id="start" class="form-control">
            </div>
            <div class="col">
                <input type="text" name="end" id="end" class="form-control">

            </div>
        </div>

    </form>
    `
    attention.custom({
    title:" your date ",
    msg:msg,
    willOpen:()=>{
    const elem=document.querySelector("#date-picker");
    const newepicker = new DateRangePicker(elem, {
    format:"yyyy-mm-dd",
    position:"",
    });
    },
    callback:function(value)
    {
        let form=document.getElementById("date-picker");
        let formDate=new FormData(form)
        formDate.append("csrf_token","{{.CSRFToken}}");
        fetch("/search",{
            method:"post",
            body:formDate,
        }).then(response=>response.json()).then(json=>{
            if (json.ok){
                console.log(json.message)
            }
        })
        }

    })
})

{{end}}
